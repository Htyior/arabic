from telegram import *
from telegram.ext import *
import os
import random
from time import sleep
from collections import Counter


from ..Buttons.button import btn
from ..DataBase.database_handler import database

button = btn
data = database()

current_path = os.getcwd()


class msg:
    def __init__(self) -> None:
        self.last_msg_right = ""
        self.last_msg_wrong = ""

    def welcomeMsg(update: Update, context: CallbackContext):

        data.botStart(update, context)

        context.bot.send_message('@botbotte',
                                 text=f"{data.first_twiny_number(update, context)}. {update.effective_user.first_name} {update.effective_user.last_name}\nID: @{update.effective_user.username}")

        context.bot.send_chat_action(chat_id=update.effective_chat.id, action=ChatAction.TYPING)

        sleep(1.5)

        update.message.reply_text(f"""Ø³Ù„Ø§Ù… {update.effective_user.first_name} ğŸ¤—
Ú†Ø·ÙˆØ±ÛŒØŸ ğŸ˜
Ù…Ù† Ø±Ø¨Ø§ØªÛŒ Ù‡Ø³ØªÙ… Ú©Ù‡ Ú©Ù…Ú©Øª Ù…ÛŒâ€ŒÚ©Ù†Ù… Ø¹Ø±Ø¨ÛŒ (Ù„Ù‡Ø¬Ù‡ Ù„Ø¨Ù†Ø§Ù†ÛŒ) Ø®ÙˆØ¯Øª Ø±Ùˆ Ù…Ø­Ú© Ø¨Ø²Ù†ÛŒ Ùˆ Ø¨Ø¨ÛŒÙ†ÛŒ Ø³Ø·Ø­ Ø¹Ø±Ø¨ÛŒØª Ø¯Ø± Ú†Ù‡ Ø­Ø¯ÛŒ Ù‡Ø³Øª. ğŸ˜²
Ø­ØªÛŒ Ø¨Ù‡Øª Ù…ÛŒÚ¯Ù… Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ú©Ø¬Ø§ Ù‡Ø§ Ø¶Ø¹Ù Ø¯Ø§Ø±ÛŒ Ùˆ Ú©Ù…Ú©Øª Ù…ÛŒâ€ŒÚ©Ù†Ù… Ø§ÙˆÙ† Ø¶Ø¹Ù Ù‡Ø§ Ø±Ùˆ Ø±Ùˆ Ø¨Ø±Ø·Ø±Ù Ú©Ù†ÛŒ.ğŸ˜¦
Ø¨Ù‡Øª Ù‚ÙˆÙ„ Ù…ÛŒØ¯Ù… Ø§Ú¯Ù‡ ØªØ§ Ø¢Ø®Ø± Ø¨Ø§ Ù…Ù† Ù‡Ù…Ø±Ø§Ù‡ Ø¨Ø§Ø´ÛŒ Ø¹Ø±Ø¨ÛŒØª Ú©Ù„ÛŒ Ù‚ÙˆÛŒ ØªØ± Ù…ÛŒØ´Ù‡ Ùˆ Ø¹Ù…Ø±Ø§ ØªÙˆ ØµØ­Ø¨Øª Ú©Ø±Ø¯Ù† Ú©Ù… Ù†Ù…ÛŒØ§Ø±ÛŒ.ğŸ˜‰ğŸ˜""")

        context.bot.send_chat_action(chat_id=update.effective_chat.id, action=ChatAction.TYPING)

        sleep(8)

        update.message.reply_text("ğŸ˜‰")

        context.bot.send_chat_action(chat_id=update.effective_chat.id, action=ChatAction.TYPING)


        sleep(3)

        update.message.reply_text("""
        Ø­Ø§Ù„Ø§ Ù‚Ø±Ø§Ø±Ù‡ Ú†Ø·ÙˆØ±ÛŒ Ø§ÛŒÙ† Ú©Ø§Ø± Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯ÛŒÙ…ØŸØŸğŸ¤“
Ø®ÛŒÙ„ÛŒ Ø³Ø§Ø¯Ù‡ ...

Ù…Ù† Ø§Ù„Ø§Ù† ÛŒÙ‡ Ø§Ù…ØªØ­Ø§Ù† ØªØ³ØªÛŒ Ø§Ø²Øª Ù…ÛŒÚ¯ÛŒØ±Ù… Ú©Ù‡ Û±Ûµ Ø¯Ù‚ÛŒÙ‚Ù‡ Ù‡Ù… ÙˆÙ‚ØªØª Ø±Ùˆ Ù†Ù…ÛŒÚ¯ÛŒØ±Ù‡ØŒ Ø§ÛŒÙ† Ø§Ù…ØªØ­Ø§Ù† Ø´Ø§Ù…Ù„ Ø®ÛŒÙ„ÛŒ Ø§Ø² Ù…Ø¨Ø§Ø­Ø« Ù…Ù‡Ù… Ù…ÛŒØ´Ù‡ Ú©Ù‡ Ø­ØªÙ…Ø§ Ø¨Ø§ÛŒØ¯ Ø¨Ù„Ø¯ Ø¨Ø§Ø´ÛŒ. ØªÙ†Ù‡Ø§ Ú©Ø§Ø±ÛŒ Ú©Ù‡ Ø¨Ø§ÛŒØ¯ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯ÛŒ Ø§ÛŒÙ†Ù‡ Ú©Ù‡ Ø¯Ú©Ù…Ù‡ Ø´Ø±ÙˆØ¹ Ø±Ùˆ Ø¨Ø²Ù†ÛŒ Ùˆ Ø§Ù…ØªØ­Ø§Ù† Ø±Ùˆ Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒ.
Ø®ÙˆØ¯Ù… Ø¢Ø®Ø±Ø´ Ø¨Ù‡Øª Ù†Ù…Ø±Ù‡ Ù…ÛŒØ¯Ù… Ùˆ Ø¨Ù‡Øª Ù…ÛŒÚ¯Ù… Ú©Ù‡ Ø§Ø´Ú©Ø§Ù„Ø§ØªØª Ú©Ø¬Ø§ Ø¨ÙˆØ¯ Ùˆ Ø±ÙˆÛŒ Ú©Ø¯ÙˆÙ… Ù…Ø¨Ø§Ø­Ø« Ø¨ÛŒØ´ØªØ± Ø¨Ø§ÛŒØ¯ Ú©Ø§Ø± Ú©Ù†ÛŒ.ğŸ˜ğŸ’ªğŸ»""")

        sleep(12)

        update.message.reply_text("""â€¼ï¸Ø­ÙˆØ§Ø³Øª Ø¨Ø§Ø´Ù‡ ÙÙ‚Ø· ÛŒÙ‡ Ø¨Ø§Ø± Ø¨ÛŒØ´ØªØ± Ù†Ù…ÛŒØªÙˆÙ†ÛŒ Ø§Ù…ØªØ­Ø§Ù† Ø¨Ø¯ÛŒØŒ Ù¾Ø³ Ø³Ø¹ÛŒ Ú©Ù† Ù‚Ø´Ø´Ø´Ø´Ù†Ú¯ ØªÙ…Ø±Ú©Ø² Ú©Ù†ÛŒğŸ¤­""")

        sleep(1)

        button.start_quiz(update, context)


# -----------------------------------------------------------------------------------------
    
    def send_message_to_all(self, update: Update, context: CallbackContext):
        if update.effective_user.id == 1331350150:
            user_id_list =  data.send_msg_to_all(update, context)
            message = data.message_to_all_users(update, context)

            for i in range(user_id_list[0]):
                context.bot.send_message(chat_id=user_id_list[1][i], text=message)

        else:
            pass


# ------------------------------------------------------------------------------------------

    def response(self, update: Update, context: CallbackContext):
        # if user finished the exam, dont allow him to play
        
        if data.check_level(update, context) == 41: 

            if update.message.text == "Ù…ÛŒØ®ÙˆØ§Ù… Ù¾ÛŒØ´Ø±ÙØª Ú©Ù†Ù…ğŸ˜":
                condition = data.first_twiny(update, context)
                if condition == True:
                    data.change_confition(update, context)

                    if data.first_twiny_number(update, context) <20:
                        data.plus_twiny(update, context)

                        update.message.reply_text("""Ø¨Ù‡ Ù…ÙˆÙ‚Ø¹ Ø±Ø³ÛŒØ¯ÛŒğŸ¤©
Ù‡Ù†ÙˆØ² Ø¸Ø±ÙÛŒØª Ù…ÙˆÙ†Ø¯Ù‡ØŒ Ù‡Ø²ÛŒÙ†Ù‡ Ø§ÛŒ Ú©Ù‡ Ù‚Ø±Ø§Ø±Ù‡ Ø¨Ú©Ù†ÛŒ Ø¯Ø± Ù…Ù‚Ø§Ø¨Ù„ Ø®Ø¯Ù…Ø§Øª Ùˆ ØªØ¬Ø±Ø¨Ù‡ Ø§ÛŒ Ú©Ù‡ Ø¨Ù‡ Ø¯Ø³Øª Ù…ÛŒØ§Ø±ÛŒ Ù‡ÛŒÚ†ÛŒ Ù†ÛŒØ³ØªğŸ˜Š
Ú†ÙˆÙ† Ø®ÛŒÙ„ÛŒ Ù‡Ø§ Ù‡Ø³ØªÙ†Ø¯ Ú©Ù‡ Ù…ÛŒØ®ÙˆØ§Ù† Ø§Ø² Ø§ÛŒÙ† Ø±Ø¨Ø§Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ù†Ø¯ Ùˆ Ù…Ø§ ÙÙ‚Ø· Ø¨Ù‡ Ø¨ÛŒØ³Øª Ù†ÙØ± Ø§Ø¬Ø§Ø²Ù‡ Ø¯Ø§Ø¯ÛŒÙ… Ú©Ù‡ Ø§Ø² ØªØ®ÙÛŒÙ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†Ù†Ø¯ØŒ ÙÙ‚Ø· ÛŒÚ© Ø³Ø§Ø¹Øª ÙˆÙ‚Øª Ø¯Ø§Ø±ÛŒ Ú©Ù‡ Ù…Ø¨Ù„Øº Ø±Ùˆ ÙˆØ§Ø±ÛŒØ² Ú©Ù†ÛŒØŒ Ø¨Ø¹Ø¯ ÛŒÚ© Ø³Ø§Ø¹Øª Ø¸Ø±ÙÛŒØª Ø¨Ù‡ Ù†ÙØ± Ø¨Ø¹Ø¯ÛŒ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒØ´Ù‡.ğŸ’šğŸ’š
Ù…Ø¨Ù„Øº 79 Ù‡Ø²Ø§Ø± ØªÙˆÙ…Ù† Ø±Ùˆ  Ø¨Ù‡ Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±ØªÛŒ Ú©Ù‡ Ø¨Ø±Ø§Øª Ù…ÛŒÙØ±Ø³ØªÙ… ÙˆØ§Ø±ÛŒØ² Ú©Ù† Ùˆ ÙÛŒØ´ Ø±Ùˆ Ø¨Ø±Ø§ÛŒ Ø§Ú©Ø§Ù†ØªÛŒ Ú©Ù‡ Ø¨Ù‡Øª Ù…ÛŒÚ¯Ù… Ø¨ÙØ±Ø³Øª.ğŸ˜â¤ï¸""")

                        context.bot.send_chat_action(chat_id=update.effective_chat.id, action=ChatAction.TYPING)
                        sleep(10)

                        update.message.reply_text("""ğŸ’³ 6037-9919-2302-2549
Ø­Ø³ÛŒÙ† Ø±Ø¶Ø§ÛŒÛŒ

@THISISMREN""")


                        context.bot.send_message(chat_id="665540201",
                                             text=f'{data.first_twiny_number(update, context)}. @{update.effective_user.username}')
        
        
        
        
                    else:

                        data.plus_twiny(update, context)

                        update.message.reply_text("""Ø¨Ø¨Ø®Ø´ÛŒØ¯ğŸ˜¢
ÛŒÚ©Ù… Ø¯ÛŒØ± Ø§ÙˆÙ…Ø¯ÛŒ Ùˆ Ø¸Ø±ÙÛŒØª Ø¨ÛŒØ³Øª Ù†ÙØ± Ø§ÙˆÙ„ ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯ğŸ¤¦â€â™‚ï¸
ÙˆÙ„ÛŒ Ø§ØµÙ„Ø§ Ù†Ø§Ø±Ø§Ø­Øª Ù†Ø¨Ø§Ø´ØŒ Ú†ÙˆÙ† Ù‡Ø²ÛŒÙ†Ù‡ Ø§ÛŒ Ú©Ù‡ Ù…ÛŒØ®ÙˆØ§ÛŒ Ø¨Ú©Ù†ÛŒ Ø¯Ø± Ù…Ù‚Ø§Ø¨Ù„ Ø®Ø¯Ù…Ø§Øª Ùˆ ØªØ¬Ø±Ø¨ÛŒØ§ØªÛŒ Ú©Ù‡ Ø¨Ù‡ Ø¯Ø³Øª Ù…ÛŒØ§Ø±ÛŒ Ø®ÛŒÛŒÙ„ÛŒ Ù†Ø§Ú†ÛŒØ²Ù‡ØŒ Ø§ÛŒÙ† Ø±Ùˆ Ù‡Ù… Ø¯Ø± Ù†Ø¸Ø± Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ Ú©Ù‡ Ù‚ÛŒÙ…Øª Ø§ÛŒÙ† Ø±Ø¨Ø§Øª Ø±Ùˆ ÙØ¹Ù„Ø§ Ù¾Ø§ÛŒÛŒÙ† Ø¢ÙˆØ±Ø¯ÛŒÙ… Ú©Ù‡ ØªÙˆ Ø¨ØªÙˆÙ†ÛŒ Ø§Ø²Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒ Ùˆ Ù¾ÛŒØ´Ø±ÙØª Ú©Ù†ÛŒ.

âš ï¸ Ø§ÛŒÙ† Ø±Ø¨Ø§Øª Ø¯ÛŒÚ¯Ù‡ Ø¨Ø§ Ø§ÛŒÙ† Ù‚ÛŒÙ…Øª Ø¹Ø±Ø¶Ù‡ Ù†Ù…ÛŒØ´Ù‡ğŸ˜âœ‹

Ù…Ø¨Ù„Øº 99 Ù‡Ø²Ø§Ø± ØªÙˆÙ…Ù† Ø±Ùˆ  Ø¨Ù‡ Ø´Ù…Ø§Ø±Ù‡ Ú©Ø§Ø±ØªÛŒ Ú©Ù‡ Ø¨Ø±Ø§Øª Ù…ÛŒÙØ±Ø³ØªÙ… ÙˆØ§Ø±ÛŒØ² Ú©Ù† Ùˆ ÙÛŒØ´ Ø±Ùˆ Ø¨Ø±Ø§ÛŒ Ø§Ú©Ø§Ù†ØªÛŒ Ú©Ù‡ Ø¨Ù‡Øª Ù…ÛŒÚ¯Ù… Ø¨ÙØ±Ø³Øª.ğŸ˜â¤ï¸""")

                        context.bot.send_chat_action(chat_id=update.effective_chat.id, action=ChatAction.TYPING)
                        sleep(10)

                        update.message.reply_text("""ğŸ’³ 6037-9919-2302-2549
Ø­Ø³ÛŒÙ† Ø±Ø¶Ø§ÛŒÛŒ

@THISISMREN""")

                        context.bot.send_message(chat_id="665540201",
                                             text=f'{data.first_twiny_number(update, context)}. @{update.effective_user.username}')



                else:
                    pass




            else:

                update.message.reply_text("""Ø§Ù…ØªØ­Ø§Ù† ØªÙ…ÙˆÙ… Ø´Ø¯ğŸ˜\nÛŒÚ© Ø¯Ù‚ÛŒÙ‚Ù‡ ØµØ¨Ø± Ú©Ù† ØªØ§ Ù†ØªÛŒØ¬Ù‡ Ø±Ùˆ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ú©Ù†Ù… Ùˆ Ø¨Ø±Ø§Øª Ø¨ÙØ±Ø³ØªÙ…ğŸ˜‰""")
    
                sleep(5)

                score = data.calc_score(update, context)
                right = score
                wrong = 40 - right
                final = int((right / 40) * 100)

                context.bot.send_chat_action(chat_id=update.effective_chat.id, action=ChatAction.TYPING)

                sleep(5)

                update.message.reply_text(f"""Ù†ØªÛŒØ¬Ù‡ Ø§Ù…ØªØ­Ø§Ù†Øª Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø¯.""")

                sleep(2)

                update.message.reply_text(f"""
                âœ… ØªØ¹Ø¯Ø§Ø¯ Ø¬ÙˆØ§Ø¨ Ù‡Ø§ÛŒ Ø¯Ø±Ø³Øª: {right}\n\nâŒØªØ¹Ø¯Ø§Ø¯ Ø¬ÙˆØ§Ø¨ Ù‡Ø§ÛŒ ØºÙ„Ø·: {wrong}\n\nğŸ”»Ù†Ù…Ø±Ù‡ Ø§Ø² 100: {final}""")

                sleep(2)

                if final == 100:
                    context.bot.send_chat_action(chat_id=update.effective_chat.id, action=ChatAction.TYPING)
                    sleep(10)
                    update.message.reply_text("""Ø¨Ø§Ø¨Ø§ Ú©Ø§Ø±Øª Ø¯Ø±Ø³ØªÙ‡ ğŸ¤¯ğŸ¤¯
Ù„Ù‡Ø¬Ù‡ Ù„Ø¨Ù†Ø§Ù†ÛŒ Øª Ø¹Ø§Ù„ÛŒ Ù‡Ø³Øª Ùˆ Ù…Ø´Ø®ØµÙ‡ Ù…ÛŒâ€ŒØ¯ÙˆÙ†ÛŒ Ø¯Ø§Ø±ÛŒ Ú†ÛŒÚ©Ø§Ø± Ù…ÛŒâ€ŒÚ©Ù†ÛŒ.
Ø³ÙˆØ§Ù„Ø§Øª Ø§Ø² Ù…ÙˆØ¶ÙˆØ¹Ø§Øª Ù…Ø®ØªÙ„ÙÛŒ Ø¨ÙˆØ¯ØŒ ÙˆÙ„ÛŒ ØªÙˆ Ù‡Ù…Ø´ Ø±Ùˆ Ø¯Ø±Ø³Øª Ø¬ÙˆØ§Ø¨ Ø¯Ø§Ø¯ÛŒ. Ø§ÛŒÙ† ÛŒØ¹Ù†ÛŒ Ù‚Ø¨Ù„Ø§ Ø¨Ø§ Ù‡Ù…Ù‡ Ø§ÛŒÙ† Ù‡Ø§ Ù…ÙˆØ§Ø¬Ù‡ Ø´Ø¯ÛŒ Ùˆ Ø±ÙˆØ´ÙˆÙ† Ú©Ø§Ø± Ú©Ø±Ø¯ÛŒ.ğŸ˜ğŸ‘Œ
ÙˆÙ„ÛŒ Ø­ÙˆØ§Ø³Øª Ø¨Ø§Ø´Ù‡ Ø¨Ù‡ Ø®ÙˆØ¯Øª Ù…ØºØ±ÙˆØ± Ù†Ø´ÛŒ Ø§ØµÙ„Ø§Ø§Ø§ØŒ Ù„Ø­Ø¸Ù‡ Ø§ÛŒ Ú©Ù‡ Ø¨Ù‡ Ø®ÙˆØ¯Øª Ù…ØºØ±ÙˆØ± Ø¨Ø´ÛŒ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ Ù‡Ù…ÙˆÙ† Ù„Ø­Ø¸Ù‡ Ø§ÛŒÙ‡ Ú©Ù‡ Ø¯ÛŒÚ¯Ù‡ Ù¾ÛŒØ´Ø±ÙØª Ù†Ù…ÛŒâ€ŒÚ©Ù†ÛŒ.
Ù…Ø·Ù…Ø¦Ù†Ø§Ù‹ Ù‡Ù†ÙˆØ² Ø®ÛŒÙ„ÛŒ Ú†ÛŒØ² Ù‡Ø§ Ù‡Ø³Øª Ú©Ù‡ Ø¨Ø§ÛŒØ¯ ÛŒØ§Ø¯ Ø¨Ú¯ÛŒØ±ÛŒ.
Ø§Ú¯Ù‡ Ø®ÙˆØ¯ØªÙ… Ø§ÛŒÙ† Ø§Ø­Ø³Ø§Ø³ Ø±Ùˆ Ø¯Ø§Ø±ÛŒ Ø¨Ø§ Ù…Ù† Ù‡Ù…Ø±Ø§Ù‡ Ø´Ùˆ
ØªØ§ Ù…Ø·Ø§Ù„Ø¨ Ø¯ÛŒÚ¯Ù‡ Ø±Ùˆ Ù‡Ù… Ø¨Ø§ Ù‡Ù… Ú©Ø§Ø± Ú©Ù†ÛŒÙ…""")


                if 100 > final > 70:
                    test = data.read_lessons(update, context)
                    test = test.split(", ")
                    testi = Counter(test)
                    s = "\nâš ï¸".join(testi.keys())
                    s = s.replace('None', '')
                    s = "ğŸ”° Ø§ÛŒÙ† Ù‡Ø§ Ù…ÙˆØ§Ø±Ø¯ÛŒ Ù‡Ø³Øª Ú©Ù‡ ØªÙˆ Ø¯Ø±Ø´ÙˆÙ† Ø¶Ø¹Ù Ø¯Ø§Ø±ÛŒ Ùˆ Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø±ÙˆÛŒ Ø§ÙˆÙ† Ù‡Ø§ Ú©Ø§Ø± Ú©Ù†ÛŒ:\n" + s 
                    update.message.reply_text(s)

                    context.bot.send_chat_action(chat_id=update.effective_chat.id, action=ChatAction.TYPING)
                    sleep(10)
                    update.message.reply_text("""Ø¨Ù‡Øª ØªØ¨Ø±ÛŒÚ© Ù…ÛŒÚ¯Ù…ğŸ¥³ğŸ¥³
Ù„Ù‡Ø¬Ù‡ Ù„Ø¨Ù†Ø§Ù†ÛŒ Øª ØªÙˆ Ø³Ø·Ø­ Ø®ÙˆØ¨ÛŒ Ù‡Ø³Øª Ùˆ Ù…Ø´Ø®ØµÙ‡ Ú©Ù‡ Ø±ÙˆÛŒ Ø®ÛŒÙ„ÛŒ Ø§Ø² Ù…Ø¨Ø§Ø­Ø« Ú©Ø§Ø± Ú©Ø±Ø¯ÛŒ Ùˆ Ù…ÛŒâ€ŒØ¯ÙˆÙ†ÛŒ Ú†ÛŒ Ø¨Ù‡ Ú†ÛŒÙ‡.ğŸ˜‰
ÙˆÙ„ÛŒ Ø®Ø¨ Ø¨Ø§Ø² Ù‡Ù… Ø¶Ø¹Ù Ù‡Ø§ÛŒÛŒ Ø¯Ø§Ø´ØªÛŒ Ú©Ù‡ Ù…Ù† Ù…ÛŒØªÙˆÙ†Ù… ÙˆØ§Ø³Øª ØªÙ‚ÙˆÛŒØªØ´ÙˆÙ† Ú©Ù…Ú©Øª Ú©Ù†Ù…ğŸ˜Š
Ø­ÙˆØ§Ø³Øª Ø¨Ø§Ø´Ù‡ Ù…Ù‡Ù…ØªØ±ÛŒÙ† Ù‚Ø³Ù…Øª Ø§Ù…ØªØ­Ø§Ù† Ø¯Ø§Ø¯Ù†ØŒ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ù†Ù‚Ø§Ø· Ø¶Ø¹ÙØª Ùˆ Ø¨Ø±Ø·Ø±Ù Ú©Ø±Ø¯Ù†Ø´ÙˆÙ†Ù‡
Ú©Ù‡ Ø®ÛŒÙ„ÛŒ Ø±Ø§Ø­Øª Ø¨Ø§ Ø®ÙˆÙ†Ø¯Ù† Ø¯Ø±Ø³Ù†Ø§Ù…Ù‡ Ù‡Ø§ ØŒ Ù…ÛŒØªÙˆÙ†ÛŒ Ù„Ù‡Ø¬Øª Ø±Ùˆ ØªÙ‚ÙˆÛŒØª Ú©Ù†ÛŒ..
Ùˆ Ù‡Ù…ÛŒÙ†Ú©Ù‡ Ù…Ø·Ø§Ù„Ø¨ Ø¨ÛŒØ´ØªØ±ÛŒ Ù‡Ø³Øª Ú©Ù‡ Ù…ÛŒØªÙˆÙ†Ù‡ ØªÙˆ Ø±Ùˆ Ø¨Ù‡ Ø³Ø·Ø­ Ø¨Ø§Ù„Ø§ØªØ±ÛŒ Ø¨Ø±Ø³ÙˆÙ†Ù‡..""")

                if 70 > final > 40:
                    test = data.read_lessons(update, context)
                    test = test.split(", ")
                    testi = Counter(test)
                    s = "\nâš ï¸".join(testi.keys())
                    s = s.replace('None', '')
                    s = "ğŸ”° Ø§ÛŒÙ† Ù‡Ø§ Ù…ÙˆØ§Ø±Ø¯ÛŒ Ù‡Ø³Øª Ú©Ù‡ ØªÙˆ Ø¯Ø±Ø´ÙˆÙ† Ø¶Ø¹Ù Ø¯Ø§Ø±ÛŒ Ùˆ Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø±ÙˆÛŒ Ø§ÙˆÙ† Ù‡Ø§ Ú©Ø§Ø± Ú©Ù†ÛŒ:\n" + s 
                    update.message.reply_text(s)

                    context.bot.send_chat_action(chat_id=update.effective_chat.id, action=ChatAction.TYPING)
                    sleep(10)
                    update.message.reply_text("""âœ…âœ…âœ…âœ…âœ…
Ø¢ÙØ±ÛŒÙ†ØŒ Ø®ÛŒÙ„ÛŒ Ø§Ù…ØªØ­Ø§Ù† Ø®ÙˆØ¨ÛŒ Ø¯Ø§Ø¯ÛŒğŸ˜ğŸ‘Œ
Ù†Ù…Ø±Ù‡ Øª Ø®ÙˆØ¨Ù‡ØŒ Ø§ÛŒÙ† Ù†Ø´ÙˆÙ† Ù…ÛŒØ¯Ù‡ Ø®ÙˆØ¨ Ø¯Ø§Ø±ÛŒ Ù…ÛŒØ±ÛŒ Ø¬Ù„Ùˆ Ùˆ Ù…Ø¨Ø§Ø­Ø« Ø±Ùˆ ÛŒØ§Ø¯ Ù…ÛŒâ€ŒÚ¯ÛŒØ±ÛŒØŒ Ø§ÛŒÙ† Ø§Ù…ØªØ­Ø§Ù† Ø§Ø² Ù…ÙˆØ¶ÙˆØ¹Ø§Øª Ù…Ø®ØªÙ„ÙÛŒ Ø¨ÙˆØ¯ØŒ ÙˆÙ„ÛŒ ØªÙˆ ØªÙˆÙ†Ø³ØªÛŒ Ø¨ÛŒØ´ØªØ±Ø´ Ø±Ùˆ Ø¯Ø±Ø³Øª Ø¬ÙˆØ§Ø¨ Ø¨Ø¯ÛŒ. Ø§ÛŒÙ† Ø¹Ø§Ù„ÛŒÙ‡ğŸ¤—
ÙˆÙ„ÛŒ Ø®ÙˆØ¯Øª Ø¨Ù‡ØªØ± Ù…ÛŒâ€ŒØ¯ÙˆÙ†ÛŒ Ú©Ù‡ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ú©Ø§Ø± Ú©Ø±Ø¯Ù† Ø¯Ø§Ø±ÛŒ Ùˆ Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ù„Ù‡Ø¬Ù‡ Ù„Ø¨Ù†Ø§Ù†ÛŒ Ø±Ùˆ ØªÙ…Ø±ÛŒÙ† Ú©Ù†ÛŒ.
ÙˆÙ„ÛŒ Ø®Ø¨Ø± Ø®ÙˆØ¨ Ø§ÛŒÙ†Ø­Ø§Ø³Øª Ú©Ù‡ Ù†Ù…ÛŒØ®ÙˆØ§Ø¯ Ø¬Ø§ÛŒ Ø¯ÙˆØ±ÛŒ Ø¨Ø±ÛŒØŒ Ù…Ù† Ø¯Ø±Ø³Ù†Ø§Ù…Ù‡ Ù‡Ø§ÛŒ Ø§ÛŒÙ† Ø³ÙˆØ§Ù„Ø§Ø±Ùˆ Ø¨Ù‡Øª ÛŒØ§Ø¯ Ù…ÛŒØ¯Ù…ØŒ Ø¨Ø§ Ú©Ù„ÛŒ Ù…Ø·Ù„Ø¨ Ø¯ÛŒÚ¯Ù‡ Ú©Ù‡ ØªÙˆØ±Ùˆ Ø¨Ù‡ Ø³Ø·Ø­ Ø¨Ø§Ù„Ø§ØªØ±ÛŒ Ù…ÛŒØ¨Ø±Ù‡..""")


                if final < 40:
                    test = data.read_lessons(update, context)
                    test = test.split(", ")
                    testi = Counter(test)
                    s = "\nâš ï¸".join(testi.keys())
                    s = s.replace('None', '')
                    s = "ğŸ”° Ø§ÛŒÙ† Ù‡Ø§ Ù…ÙˆØ§Ø±Ø¯ÛŒ Ù‡Ø³Øª Ú©Ù‡ ØªÙˆ Ø¯Ø±Ø´ÙˆÙ† Ø¶Ø¹Ù Ø¯Ø§Ø±ÛŒ Ùˆ Ø¨Ø§ÛŒØ¯ Ø¨ÛŒØ´ØªØ± Ø±ÙˆÛŒ Ø§ÙˆÙ† Ù‡Ø§ Ú©Ø§Ø± Ú©Ù†ÛŒ:\n" + s 
                    update.message.reply_text(s)

                    context.bot.send_chat_action(chat_id=update.effective_chat.id, action=ChatAction.TYPING)
                    sleep(10)
                    update.message.reply_text("""âœ…âœ…âœ…âœ…âœ…
Ø¢ÙØ±ÛŒÙ†ØŒ Ø§Ù…ØªØ­Ø§Ù† Ø®ÙˆØ¨ÛŒ Ø¯Ø§Ø¯ÛŒğŸ˜ƒ
Ø§Ø² Ù†Ù…Ø±Ù‡ Øª Ù…Ø´Ø®ØµÙ‡ ØªØ§Ø²Ù‡ Ù„Ù‡Ø¬Ù‡ Ù„Ø¨Ù†Ø§Ù†ÛŒ Ø±Ùˆ Ø´Ø±ÙˆØ¹ Ú©Ø±Ø¯ÛŒ Ùˆ Ø§ÙˆÙ„ Ù…Ø³ÛŒØ±ÛŒ. Ù†Ù…Ø±Ù‡ Ø§ÛŒ Ú©Ù‡ Ø¨Ù‡ Ø¯Ø³Øª Ø¢ÙˆØ±Ø¯ÛŒ Ù†Ø³Ø¨Øª Ø¨Ù‡ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªØª Ø¹Ø§Ù„ÛŒÙ‡. Ùˆ Ù…Ø·Ù…Ø¦Ù†Ù… Ø¨ÛŒØ´ØªØ± Ø¨Ù„Ø¯ÛŒ ÙˆÙ„ÛŒ Ù‡Ù†ÙˆØ² ÙˆØ§Ø³Øª ØªØ«Ø¨ÛŒØª Ù†Ø´Ø¯Ù†..
Ùˆ Ù‡Ù†ÙˆØ²Ù… Ø®ÛŒÙ„ÛŒ Ú†ÛŒØ² Ø§ÛŒ Ø¯ÛŒÚ¯Ù‡ Ù‡Ø³Øª Ú©Ù‡ Ø¨Ø§ÛŒØ¯ ÛŒØ§Ø¯ Ø¨Ú¯ÛŒØ±ÛŒ.ğŸ˜ğŸ‘Œ
Ø¨ÛŒØ§ Ø¯Ù†Ø¨Ø§Ù„Ù…ØŒ Ø¯Ø±Ø³Ù†Ø§Ù…Ù‡ Ù‡Ø§Ø±Ùˆ Ø¨Ø®ÙˆÙ† Ùˆ Ø§Ø·Ù„Ø§Ø¹Ø§ØªØª Ø±Ùˆ ØªØ«Ø¨ÛŒØª Ú©Ù†ØŒ ÙˆØ§Ø³Ù‡ ØªÙ‚ÙˆÛŒØª Ú©Ø±Ø¯Ù† Ù„Ù‡Ø¬Øª ÙÙ‚Ø· ÛŒÙ‡ Ù‚Ø¯Ù… Ø¯ÛŒÚ¯Ù‡ Ø¨Ø±Ø¯Ø§Ø±ØŒ Ù…Ù† Ú©Ù…Ú©Øª Ù…ÛŒÚ©Ù†Ù….ğŸ˜‰""")


                context.bot.send_chat_action(chat_id=update.effective_chat.id, action=ChatAction.TYPING)
                sleep(15)


                update.message.reply_text("""ÙˆÙ„ÛŒ Ù‚Ø¨Ù„Ø´ ÛŒÙ‡ Ø®Ø§Ø·Ø±Ù‡ Ø¨Ø±Ø§Øª ØªØ¹Ø±ÛŒÙ Ú©Ù†Ù… ...

Ú†Ù†Ø¯ ÙˆÙ‚Øª Ù¾ÛŒØ´ ÛŒÙ‡ Ú©Ø´ÙˆØ± Ø¹Ø±Ø¨ÛŒ Ø¨ÙˆØ¯Ù…. Ø¨Ù‡ ÙˆØ§Ø³Ø·Ù‡ Ú©Ø§Ø±ÛŒ Ú©Ù‡ Ø¯Ø§Ø´ØªÙ… Ø¨Ø§ Ø®ÛŒÙ„ÛŒ Ù‡Ø§ Ø¨Ø§ÛŒØ¯ ØµØ­Ø¨Øª Ù…ÛŒâ€ŒÚ©Ø±Ø¯Ù… Ùˆ Ù…ØªØ±Ø¬Ù…ÛŒ Ù‡Ù… Ù†Ø¯Ø§Ø´ØªÙ… Ú©Ù‡ Ú©Ù…Ú©Ù… Ú©Ù†Ù‡ØŒ Ù¾Ø³ Ù…Ø¬Ø¨ÙˆØ± Ø¨ÙˆØ¯Ù… Ø®ÙˆØ¯Ù… Ú¯Ù„ÛŒÙ… Ø®ÙˆØ¯Ù… Ø±Ùˆ Ø§Ø² Ø¢Ø¨ Ø¨Ú©Ø´Ù… Ø¨ÛŒØ±ÙˆÙ† Ùˆ Ø³Ø¹ÛŒ Ú©Ø±Ø¯Ù… Ø¨Ù‡ Ø§ÛŒÙ† Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¨Ù‡ Ø¹Ù†ÙˆØ§Ù† ÛŒÙ‡ ÙØ±ØµØª ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ù†Ú¯Ø§Ù‡ Ú©Ù†Ù…ØŒ Ú©Ø§Ø±ÛŒ Ú©Ù‡ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯Ù… Ø§ÛŒÙ† Ø¨ÙˆØ¯ Ú©Ù‡ Ù‡Ø± Ú†ÛŒØ²ÛŒ Ø±Ùˆ Ú©Ù‡ Ø¨Ù„Ø¯ Ù†Ø¨ÙˆØ¯Ù… Ùˆ Ø®ÛŒÙ„ÛŒ Ø¨Ù‡Ø´ Ù†ÛŒØ§Ø² Ø¯Ø§Ø´ØªÙ… Ø±Ùˆ ÛŒØ§Ø¯Ø¯Ø§Ø´Øª Ú©Ù†Ù…. Ù…Ø«Ù„Ø§ ÙÙ‡Ù…ÛŒØ¯Ù… Ú©Ù‡ Ù…Ù† Ø§ØµÙ„Ø§Ø§Ø§ Ø§Ø¹Ø¯Ø§Ø¯ Ø±Ùˆ Ø¨Ù„Ø¯ Ù†ÛŒØ³ØªÙ…ØŒ Ù¾Ø³ ÛŒØ§Ø¯Ø¯Ø§Ø´Øª Ù…ÛŒâ€ŒÚ©Ø±Ø¯Ù… Ø¨Ø§ÛŒØ¯ Ø§Ø¹Ø¯Ø§Ø¯ Ø±Ùˆ ØªÙ…Ø±ÛŒÙ† Ú©Ù†Ù…. (Ø¨Ù…Ø§Ù†Ø¯ Ú©Ù‡ Ù‡Ù…Ø´ Ù†Ú¯Ø±Ø§Ù† Ø¨ÙˆØ¯Ù… Ù†Ú©Ù†Ù‡ ÙˆÙ‚ØªÛŒ Ø¨ÙÙ‡Ù…Ù† Ø¹Ø±Ø¨ Ù†ÛŒØ³ØªÙ… Ùˆ Ø¹Ø±Ø¨ÛŒÙ… Ù‡Ù… Ø®ÛŒÙ„ÛŒâ€ŒØ®ÙˆØ¨ Ù†ÛŒØ³Øª Ø³Ø±Ù… Ú©Ù„Ø§Ù‡ Ø¨Ø°Ø§Ø±Ù†ğŸ˜…ğŸ˜‚)

ÙˆÙ‚ØªÛŒ Ù…ÛŒØ®ÙˆØ§Ø³ØªÙ… Ú†ÛŒØ²ÛŒ Ø¨Ø®Ø±Ù… Ù…ÛŒÙ¾Ø±Ø³ÛŒØ¯Ù… Ù‚ÛŒÙ…Øª Ú†Ù†Ø¯Ù‡ØŸ Ù…ØºØ§Ø²Ù‡ Ø¯Ø§Ø± ÛŒÙ‡ Ú†ÛŒØ²ÛŒ Ù…ÛŒÚ¯ÙØª Ùˆ Ù…Ù‡Ù… Ø§Ù„Ú©ÛŒ Ù…Ú¯ÙØªÙ… Ø§ÙˆÚ©ÛŒ Ùˆ ÛŒÙ‡ Ù¾ÙˆÙ„ Ø¯Ø±Ø´Øª Ø¨Ù‡Ø´ Ù…ÛŒØ¯Ø§Ø¯Ù… Ú©Ù‡ Ù†Ø®ÙˆØ§Ù… Ù¾ÙˆÙ„ Ø±Ùˆ Ø®ÙˆØ¯Ù… Ø¨Ø´Ù…Ø§Ø±Ù… Ùˆ ÙÙ‚Ø· Ø¨Ù‚ÛŒÙ‡ Ù¾ÙˆÙ„ Ø±Ùˆ Ù…ÛŒÚ¯Ø±ÙØªÙ…ğŸ˜…ğŸ˜…""")

                sleep(17)
                context.bot.send_chat_action(chat_id=update.effective_chat.id, action=ChatAction.UPLOAD_PHOTO)
                sleep(5)

                context.bot.send_photo(update.effective_chat.id,
                                        caption="Ø§ÛŒÙ† Ù„Ø¨Ø§Ø³ÛŒ Ù‡Ø³Øª Ú©Ù‡ Ø§ÙˆÙ†Ø¬Ø§ Ù…ÛŒØ®ÙˆØ§Ø³ØªÙ… Ù‚ÛŒÙ…Øª Ú©Ù†Ù… Ùˆ Ø¨Ø®Ø±Ù…ØŒ ÙˆÙ„ÛŒ ÙˆÙ‚ØªÛŒ ÙØ±ÙˆØ´Ù†Ø¯Ù‡ Ù‚ÛŒÙ…ØªØ´ Ø±Ùˆ Ø¨Ù‡Ù… Ú¯ÙØª Ø§ØµÙ„Ø§ Ù…ØªÙˆØ¬Ù‡ Ù†Ø´Ø¯Ù… Ùˆ Ù‡Ù†ÙˆØ² Ù‡Ù… Ù†Ù…ÛŒØ¯ÙˆÙ†Ù… Ù‚ÛŒÙ…ØªØ´ Ú†Ù†Ø¯ Ø¨ÙˆØ¯ğŸ¥²ğŸ˜‚",
                                        photo='https://github.com/Htyior/-Music_game-_BOT/raw/main/photo_2022-07-25_11-06-39.jpg'
                                    )

                context.bot.send_chat_action(chat_id=update.effective_chat.id, action=ChatAction.TYPING)
                sleep(8)


                update.message.reply_text("""ÙˆÙ‚ØªÛŒ Ø¨Ø±Ú¯Ø´ØªÙ… Ø§ÛŒØ±Ø§Ù† ÙÙ‚Ø· ÛŒÚ© Ø³Ø§Ø¹Øª ÙˆÙ‚Øª Ú¯Ø°Ø§Ø´ØªÙ… Ùˆ Ø§Ø¹Ø¯Ø§Ø¯ Ø¹Ø±Ø¨ÛŒ Ø±Ùˆ ÛŒØ§Ø¯Ú¯Ø±ÙØªÙ…ØŒ Ùˆ Ø³Ø¹ÛŒ Ú©Ø±Ø¯Ù… ØªØ§ Ù…ÛŒâ€ŒØªÙˆÙ†Ù… Ø§Ø¹Ø¯Ø§Ø¯ Ø±Ùˆ Ø¨Ø§ Ø®ÙˆØ¯Ù… ØªÚ©Ø±Ø§Ø± Ú©Ù†Ù….ğŸ¤“

Ù†ØªÛŒØ¬Ù‡ Ú†ÛŒ Ø´Ø¯ØŸğŸ¤”

ØªÙˆ Ø³ÙØ± Ø¨Ø¹Ø¯ÛŒ Ø§Ù†Ù‚Ø¯Ø± Ø§Ø¹Ø¯Ø§Ø¯ Ø¨Ø±Ø§Ù… Ø±Ø§Ø­Øª Ø¨ÙˆØ¯ Ùˆ Ø¹Ø§Ù„ÛŒ ÛŒØ§Ø¯Ú¯Ø±ÙØªÙ‡ Ø¨ÙˆØ¯Ù… Ú©Ù‡ Ø¨Ù‚ÛŒÙ‡ Ù‡Ù… Ø§Ø² Ù…Ù† Ú©Ù…Ú© Ù…ÛŒØ®ÙˆØ§Ø³ØªÙ† Ùˆ Ø­ØªÛŒ Ø¬Ù…Ø¹ Ùˆ ØªÙØ±ÛŒÙ‚ Ù¾ÙˆÙ„ Ù‡Ø§ Ø±Ùˆ Ø³Ø±ÛŒØ¹ ØªØ± Ø§Ø² Ø®ÙˆØ¯ Ø¹Ø±Ø¨ Ù‡Ø§ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒâ€ŒØ¯Ø§Ø¯Ù… ğŸ˜„âœŒğŸ»

Ù…Ù† Ù†Ù‚Ø·Ù‡ Ø¶Ø¹ÙØ§ÛŒ Ø®ÙˆØ¯Ù…Ùˆ Ø¯Ù†Ø¨Ø§Ù„ Ú©Ø±Ø¯Ù… Ùˆ Ø¨Ù‡ Ø§ÛŒÙ† Ù…Ø±Ø­Ù„Ù‡ Ø±Ø³ÛŒØ¯Ù…ğŸ˜

Ø§Ø¹Ø¯Ø§Ø¯ ÙÙ‚Ø· ÛŒÚ© Ù…Ø«Ø§Ù„ Ø¨ÙˆØ¯ Ú©Ù‡ Ù…ØªÙˆØ¬Ù‡ Ø¨Ø´ÛŒ Ú†Ù‚Ø¯Ø± Ù…Ù‡Ù…Ù‡ Ú©Ù‡ Ø¨ØªÙˆÙ†ÛŒ Ø¶Ø¹Ù Ù‡Ø§ÛŒÛŒ Ú©Ù‡ Ø¯Ø§Ø±ÛŒ Ø±Ùˆ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ú©Ù†ÛŒ Ùˆ Ø§ÙˆÙ†Ø§ Ø±Ùˆ Ø¨Ù‡ Ù†Ù‚Ø§Ø· Ù‚ÙˆØªØª ØªØ¨Ø¯ÛŒÙ„ Ú©Ù†ÛŒ.âœŒğŸ»""")


                context.bot.send_chat_action(chat_id=update.effective_chat.id, action=ChatAction.TYPING)
                sleep(20)


                update.message.reply_text("""ğŸ”¹Ù…Ù† ÙˆØ§Ø³Øª ÛŒÙ‡ Ù…Ø±Ø¬Ø¹ Ù„Ø¨Ù†Ø§Ù†ÛŒ Ø³Ø§Ø®ØªÙ…ØŒ Ú©Ù‡ Ù…Ø§Ø¯Ø§Ù… Ø§Ù„Ø¹Ù…Ø± Ø¯Ø³ØªØªÙ‡ Ùˆ Ø±Ø§Ø­Øª Ù…ÛŒØªÙˆÙ†ÛŒ Ø¨Ù‡ Ù‡Ø± Ø¯Ø±Ø³Ù†Ø§Ù…Ù‡ Ø§ÛŒ Ú©Ù‡ Ù…ÛŒØ®ÙˆØ§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒ..âœŒï¸

ğŸ”¹Ø§Ø·Ù„Ø§Ø¹Ø§ØªÛŒ Ú©Ù‡ Ø®ÙˆØ¯Ù… Ø¨Ù„Ø¯Ù… Ø±Ùˆ Ø¯Ø± Ø§Ø®ØªÛŒØ§Ø±Øª Ù…ÛŒØ°Ø§Ø±Ù… Ú©Ù‡ ØªÙˆ Ù‡Ù… Ø±Ø§Ø­Øª Ø¨ØªÙˆÙ†ÛŒ Ø®ÙˆØ¯Øª Ø±Ùˆ Ø¨Ù‡ Ø³Ø·Ø­Ø§ÛŒ Ø¨Ø§Ù„Ø§ØªØ± Ø¨Ø±Ø³ÙˆÙ†ÛŒ..ğŸ˜‰

ğŸ”¹ÙˆØ§Ø³Øª Ú©Ù†Ø§Ø±Ø´ Ø§ØµØ·Ù„Ø§Ø­Ø§Øª Ùˆ Ú©Ù„ÛŒ Ú©Ù„Ù…Ù‡ Ú¯Ø°Ø§Ø´ØªÙ… Ú©Ù‡ Ø¯Ø§ÛŒØ±Ù‡ Ù„ØºØ§ØªØª Ù‡Ù… Ø¨Ø±Ù‡ Ø¨Ø§Ù„Ø§..ğŸ¤¯

ğŸ”¹ÙÚ©Ø±Ø´Ùˆ Ø¨Ú©Ù† Ú†Ù‚Ø¯ Ù…ÛŒØªÙˆÙ†ÛŒ Ø³Ø±ÛŒØ¹ØªØ± Ø¶Ø¹ÙØ§ÛŒ Ù„Ù‡Ø¬Øª Ø±Ùˆ ØªÙ‚ÙˆÛŒØª Ú©Ù†ÛŒ Ùˆ ØªØ§Ø²Ù‡ Ú©Ù†Ø§Ø±Ø´ Ú©Ù„ÛŒ Ù…Ø·Ù„Ø¨ Ø¯ÛŒÚ¯Ù‡ Ù‡Ù… ÛŒØ§Ø¯ Ø¨Ú¯ÛŒØ±ÛŒ..ğŸ˜

ğŸ”·Ø§ÛŒÙ†Ø§ Ø¨Ø®Ø´ÛŒ Ø§Ø² Ø®Ø¯Ù…Ø§Øª Ù…Ù† Ù‡Ø³Øª:
âœ… Ú©Ù„Ù…Ø§Øª(Ø¨Ø± Ù…Ø­ÙˆØ±ÛŒØª Ù…Ú©Ø§Ù† Ùˆ Ù…ÙˆØ¶ÙˆØ¹)
âœ… Ù‚ÙˆØ§Ø¹Ø¯
âœ… Ú©Ù„ÛŒÙ¾ Ù‡Ø§ÛŒ Ú©ÙˆØªØ§Ù‡ Ø¹Ø±Ø¨ÛŒ Ù‡Ù…Ø±Ø§Ù‡ Ø¨Ø§ Ù…ØªÙ† Ø¹Ø±Ø¨ÛŒ Ùˆ ÙØ§Ø±Ø³ÛŒ
âœ… Ø¢Ù‡Ù†Ú¯ Ù‡Ø§ÛŒ Ù„Ø¨Ù†Ø§Ù†ÛŒ
âœ… Ù¾Ø§Ø¯Ú©Ø³Øª Ù‡Ø§ÛŒ Ù„Ø¨Ù†Ø§Ù†ÛŒ

ğŸ’¯Ù…Ù‡Ù… ØªØ± Ø§Ø² Ù‡Ù…Ù‡ ...
âœ… Ø®ÙˆØ¯Ù… Ú©Ù†Ø§Ø±Øª Ù‡Ø³ØªÙ… Ùˆ ØªØ¬Ø±Ø¨Ù‡ Ù‡Ø§ÛŒ Ø®ÛŒÙ„ÛŒ Ù…ÙÛŒØ¯ Ø®ÙˆØ¯Ù… Ùˆ Ø¨Ù‚ÛŒÙ‡ Ú©Ø³Ø§ÛŒÛŒ Ú©Ù‡ Ù…Ø³ÛŒØ± ØªÙˆØ±Ùˆ Ø®ÛŒÙ„ÛŒ ÙˆÙ‚Øª Ù¾ÛŒØ´ Ø±ÙØªÙ†Ø¯ Ø±Ùˆ Ø¯Ø± Ø§Ø®ØªÛŒØ§Ø±Øª Ù…ÛŒØ°Ø§Ø±Ù… Ùˆ Ú©Ù…Ú©Øª Ù…ÛŒÚ©Ù†Ù… Ø¨ØªÙˆÙ†ÛŒ Ø²ÙˆØ¯ØªØ± Ø±Ø´Ø¯ Ú©Ù†ÛŒ.ğŸ˜ğŸ˜ŠğŸ¤—


Ø¯ÛŒÚ¯Ù‡ Ù…Ù†ØªØ¸Ø± Ú†ÛŒ Ù‡Ø³ØªÛŒØŸ!
Ø²ÙˆØ¯ØªØ± Ø§Ø² Ø¨Ù‚ÛŒÙ‡ Ù¾ÛŒØ´Ø±ÙØª Ú©Ù†ğŸ’ªğŸ»ØŒ Ù…Ù†Ù… Ú©Ù†Ø§Ø±ØªÙ…..ğŸ¥³""")


                context.bot.send_chat_action(chat_id=update.effective_chat.id, action=ChatAction.TYPING)
                sleep(20)

                button.payment(update, context)




        else:
            if update.message.text == "Ø³ÙˆØ§Ù„ Ø¨Ø¹Ø¯ÛŒ":
                button.question_btn(update, context)
                data.question(update, context)

            if update.message.text == "Ø´Ø±ÙˆØ¹":
                button.question_btn(update, context)
                data.question(update, context)

            if update.message.text == data.right_answer(update, context, condition=True):
                right_messages = [
                    "âœ…Ø¢ÙØ±ÛŒÙ†ØŒ Ø¯Ø±Ø³Øª Ø¨ÙˆØ¯ğŸ‘ŒğŸ»âœ…",
                    "âœ…Ø¨Ø±Ø§ÙÙˆÙˆÙˆÙˆâœŒï¸ğŸ»âœ…",
                    "âœ…Ú©Ø§Ø±Øª Ø¯Ø±Ø³ØªÙ‡ğŸ’ªğŸ»âœ…",
                    "âœ…ÛŒÙ‡ Ù¾Ø§ Ø§Ø³ØªØ§Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø®ÙˆØ¯ØªğŸ¤ŒğŸ»âœ…",
                    "âœ…Ù†Ú©Ù†Ù‡ ÛŒÙ‡ ÙˆÙ‚Øª Ø´Ø§Ù†Ø³ÛŒ Ø¬ÙˆØ§Ø¨ Ø¨Ø¯ÛŒğŸ˜œâœ…",
                    "âœ…Ø¯Ù…Øª Ú¯Ø±Ù…âœ…",
                    "âœ…Ø¨Ø§Ø¨Ø§Ø§Ø§Ø§Ø§ØŒ Ø¯Ø³Øª Ù…Ø§Ø±Ùˆ Ù‡Ù… Ø¨Ú¯ÛŒØ±ğŸ˜„âœŒï¸âœ…",
                    "âœ…Ø¢ÙØ±ÛŒÙ†âœ…",
                    "âœ…Ø¢ÙØ±ÛŒÙ† . ÙˆØ§Ø³Ù‡ Ø³ÙˆØ§Ù„ Ø¨Ø¹Ø¯ÛŒ Ø¢Ù…Ø§Ø¯Ù‡ Ø§ÛŒØŸâœ…",
                    "âœ…Ø¹Ø§Ù„ÛŒÙ‡ . Ù‡Ù…ÛŒÙ†Ø·ÙˆØ±ÛŒ Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ø¯Ù‡âœ…",
                    "âœ…Ø§Ø­Ø³Ù†Øª . Ø§ÛŒÙ†Ù… Ú©Ù‡ Ø¯Ø±Ø³Øª Ø¬ÙˆØ§Ø¨ Ø¯Ø§Ø¯ÛŒØŒ Ø¨Ø¨ÛŒÙ†Ù… ØªØ§ Ø¢Ø®Ø± Ú†ÛŒÚ©Ø§Ø± Ù…ÛŒÚ©Ù†ÛŒ!âœ…",
                    "âœ…Ù…Ù…ØªØ§Ø² . Ø¯Ø§Ø±ÛŒ Ø¹Ø§Ù„ÛŒ Ù¾ÛŒØ´ Ù…ÛŒØ±ÛŒâœ…",
                    "âœ…Ø¯Ù…Øª Ú¯Ø±Ù…ğŸ¤—âœ…",
                    "âœ…Ú©Ø§Ø±Øª Ø¹Ø§Ù„ÛŒÙ‡ØŒ Ø¨Ø§ Ù‡Ù…ÛŒÙ† ÙØ±Ù…ÙˆÙ† Ø¨Ø±Ùˆ Ø¬Ù„ÙˆğŸ¤“âœ…",
                    "âœ…Ø¯Ø§Ø±ÛŒ Ø¹Ø§Ù„ÛŒ Ù¾ÛŒØ´ Ù…ÛŒØ±ÛŒğŸ˜‡âœ…",
                    "âœ…Ø¯Ø§Ø±ÛŒ Ù…ÛŒØªØ±Ú©ÙˆÙ†ÛŒğŸ‘ŒğŸ»âœ…",
                    "âœ…Ø­ÛŒØ±Øª Ø¢ÙˆØ±Ù‡ğŸ¤©âœ…",
                    "ğŸ‰",
                    "ğŸ¥³",
                    "ğŸ‘",
                ]
                # create a random message
                while True:
                    right_message = random.choice(right_messages)
                    if right_message in self.last_msg_right:
                        continue
                    else:
                        self.last_msg_right = right_message
                        update.message.reply_text(right_message)
                        data.level_up(update, context, condition=True) # level up, score up
                        button.main_btn(update, context)
                        data.score_up(update, context)
                        break


            # user send a wrong answer
            if update.message.text in data.wrong_answers(update, context):
                wrong_messages = [
                    "âŒØ­ÙˆØ§Ø³Øª Ú©Ø¬Ø§Ø³ØªØŸâŒ",
                    "âŒØ§Ø´ØªØ¨Ø§Ù‡ Ø¨ÙˆØ¯âŒ",
                    "âŒØ­ÙˆØ§Ø³Øª Ø±Ùˆ Ø¬Ù…Ø¹ Ú©Ù†âŒ",
                    "âŒØ§Ø´ØªØ¨Ø§Ù‡ Ø¬ÙˆØ§Ø¨ Ø¯Ø§Ø¯ÛŒâŒ",
                    "âŒØ­ÙˆØ§Ø³Øª Ø±Ùˆ Ø¬Ù…Ø¹ Ú©Ù† Ø®ÙˆØ´Ú¯Ù„Ù‡âŒ",
                    "âŒØ­ÙˆØ§Ø³Øª Ú©Ø¬Ø§Ø³Øª Ø®ÙˆØ´Ú¯Ù„Ù‡ØŸâŒ",
                    "âŒØ¨ÛŒØ´ØªØ± Ø¯Ù‚Øª Ú©Ù†ğŸ™ƒâŒ",
                    "âŒØ§Ø´ØªØ¨Ø§Ù‡ Ø¨ÙˆØ¯ğŸ¤·ğŸ»â€â™‚ï¸âŒ",
                    "âŒØ§Ø² ØªÙˆ Ø§Ù†ØªØ¸Ø§Ø± Ø¨ÛŒØ´ØªØ±ÛŒ Ø¯Ø§Ø±Ù…Ø§ğŸ˜‡âŒ",
                    "âŒØ§Ø´ØªØ¨Ø§Ù‡ Ø¬ÙˆØ§Ø¨ Ø¯Ø§Ø¯ÛŒ Ú©Ù‡ØŒ Ø¨ÛŒØ§ ÙˆØ§Ø³Ù‡ Ø¨Ø¹Ø¯ÛŒğŸ™ƒâŒ"
                ]
                # create a random message
                while True:
                    wrong_message = random.choice(wrong_messages)
                    if wrong_message in self.last_msg_wrong:
                        continue
                    else:
                        self.last_msg_wrong = wrong_message
                        wrong_message = random.choice(wrong_messages)
                        update.message.reply_text(wrong_message)
                        data.level_up(update, context, condition=False) # level up, no change on score
                        data.lessons(update, context)
                        button.main_btn(update, context)
                        break
        
#        if update.message.reply_text in "result":
#            print("result")